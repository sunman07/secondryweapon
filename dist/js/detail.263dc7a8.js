(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["detail"],{"04cd":function(t,s,e){},"28a5":function(t,s,e){"use strict";var a=e("aae3"),i=e("cb7c"),n=e("ebd6"),r=e("0390"),l=e("9def"),o=e("5f1b"),c=e("520a"),u=e("79e5"),d=Math.min,p=[].push,v="split",f="length",m="lastIndex",h=4294967295,_=!u(function(){RegExp(h,"y")});e("214f")("split",2,function(t,s,e,u){var b;return b="c"=="abbc"[v](/(b)*/)[1]||4!="test"[v](/(?:)/,-1)[f]||2!="ab"[v](/(?:ab)*/)[f]||4!="."[v](/(.?)(.?)/)[f]||"."[v](/()()/)[f]>1||""[v](/.?/)[f]?function(t,s){var i=String(this);if(void 0===t&&0===s)return[];if(!a(t))return e.call(i,t,s);var n,r,l,o=[],u=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),d=0,v=void 0===s?h:s>>>0,_=new RegExp(t.source,u+"g");while(n=c.call(_,i)){if(r=_[m],r>d&&(o.push(i.slice(d,n.index)),n[f]>1&&n.index<i[f]&&p.apply(o,n.slice(1)),l=n[0][f],d=r,o[f]>=v))break;_[m]===n.index&&_[m]++}return d===i[f]?!l&&_.test("")||o.push(""):o.push(i.slice(d)),o[f]>v?o.slice(0,v):o}:"0"[v](void 0,0)[f]?function(t,s){return void 0===t&&0===s?[]:e.call(this,t,s)}:e,[function(e,a){var i=t(this),n=void 0==e?void 0:e[s];return void 0!==n?n.call(e,i,a):b.call(String(i),e,a)},function(t,s){var a=u(b,t,this,s,b!==e);if(a.done)return a.value;var c=i(t),p=String(this),v=n(c,RegExp),f=c.unicode,m=(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.unicode?"u":"")+(_?"y":"g"),C=new v(_?c:"^(?:"+c.source+")",m),g=void 0===s?h:s>>>0;if(0===g)return[];if(0===p.length)return null===o(C,p)?[p]:[];var S=0,y=0,U=[];while(y<p.length){C.lastIndex=_?y:0;var x,I=o(C,_?p:p.slice(y));if(null===I||(x=d(l(C.lastIndex+(_?0:y)),p.length))===S)y=r(p,y,f);else{if(U.push(p.slice(S,y)),U.length===g)return U;for(var O=1;O<=I.length-1;O++)if(U.push(I[O]),U.length===g)return U;y=S=x}}return U.push(p.slice(S)),U}]})},"2fdb":function(t,s,e){"use strict";var a=e("5ca1"),i=e("d2c8"),n="includes";a(a.P+a.F*e("5147")(n),"String",{includes:function(t){return!!~i(this,t,n).indexOf(t,arguments.length>1?arguments[1]:void 0)}})},3810:function(t,s,e){t.exports=e.p+"img/user.4fb29c05.jpg"},"42a1":function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"detail"},[e("div",{staticClass:"h-bg",style:{background:t.ReportUnusual.Color}}),e("div",{staticClass:"box",staticStyle:{"margin-top":"-80px"}},[e("div",{staticClass:"header"},[e("img",{staticClass:"icon",attrs:{src:t.UserInfo.Icon,alt:""},on:{error:t.imageLoadOnError}}),e("span",{staticClass:"name"},[t._v(t._s(t.UserInfo.Name))]),e("span",{staticClass:"sex"},[t._v(t._s(t.UserInfo.SexName))]),e("span",{staticClass:"status f-r",style:{color:t.ReportUnusual.Color}},[t._v(t._s(t.ReportUnusual.ConfirmStatusName||"未核实"))])]),e("div",[e("span",{staticClass:"label"},[t._v("学号")]),e("span",{staticClass:"lable value"},[t._v(t._s(t.UserInfo.UserCode))])]),e("div",[e("span",{staticClass:"label"},[t._v("学院")]),e("span",{staticClass:"lable value van-ellipsis"},[t._v(t._s(t.UserInfo.StudentAcademy))])]),e("div",[e("span",{staticClass:"label"},[t._v("班级")]),e("span",{staticClass:"lable value van-ellipsis"},[t._v(t._s(t.UserInfo.ClassName))])])]),e("div",{staticClass:"box"},[e("div",[e("span",{staticClass:"label"},[t._v("当前所在地")]),e("span",{staticClass:"lable value"},[t._v(t._s(t.ReportUnusual.CurrentAddress))])]),e("div",[e("span",{staticClass:"label"},[t._v("监护人")]),e("span",{staticClass:"lable value van-ellipsis"},[t._v(t._s(t.ReportUnusual.GuardianName))]),t._v("\n       \n      "),e("span",{staticClass:"lable value van-ellipsis"},[t._v(t._s(t.ReportUnusual.GuardianPhone))])])]),e("div",{staticClass:"box",staticStyle:{padding:"0"}},[e("div",{staticClass:"record"},[t._v("上报记录")]),e("div",{staticClass:"van-hairline--bottom"}),e("van-steps",{attrs:{direction:"vertical","active-color":"#969799"}},t._l(t.Septs,function(s,a){return e("van-step",{key:a},[1==s.OpType?e("div",[e("p",{staticClass:"time"},[t._v(t._s(t.$moment(s.OpTime).format("MM月DD日 HH:mm")))]),e("div",{staticClass:"step-label"},[t._v("学生情况上报")]),e("div",{staticClass:"desc"},[t._v("发生日期: "+t._s(t.$moment(s.SituationDate).format("MM月DD日")))]),e("div",{staticClass:"desc"},[t._v("情况说明: "+t._s(s.SituationStatusNameArrStr))]),s.SituationStatusName.split(",").includes("其他情况")?e("div",{staticClass:"desc"},[t._v("其他情况:"+t._s(s.FollowContent))]):t._e(),e("div",{staticClass:"desc"},[t._v("采取措施: "+t._s(s.SituationMeasureName))])]):t._e(),2==s.OpType?e("div",[e("div",[e("p",{staticClass:"time"},[t._v(t._s(t.$moment(s.OpTime).format("MM月DD日 HH:mm")))]),e("div",{staticClass:"step-label"},[e("span",{style:{color:s.Color}},[t._v(t._s(s.FollowStatusName)+"  ")]),t.code?e("span",[t._v("辅导员新增上报")]):t._e(),t.code?t._e():e("span",[t._v("辅导员已核实")])])])]):t._e(),4==s.OpType?e("div",[e("p",{staticClass:"time"},[t._v(t._s(t.$moment(s.OpTime).format("MM月DD日 HH:mm")))]),1==s.IsFollowed?e("div",{staticClass:"step-label"},[t._v("老师代上报平安")]):e("div",{staticClass:"step-label"},[t._v("学生上报平安")])]):t._e(),5==s.OpType?e("div",[e("p",{staticClass:"time"},[t._v(t._s(t.$moment(s.OpTime).format("MM月DD日")))]),e("div",{staticClass:"step-label"},[t._v("学生未上报")])]):t._e(),6==s.OpType?e("div",[e("p",{staticClass:"time"},[t._v(t._s(t.$moment(s.OpTime).format("MM月DD日")))]),e("div",{staticClass:"step-label"},[t._v("辅导员未跟踪")])]):t._e()])}),1)],1),e("div",{staticClass:"footer"},[e("van-button",{staticClass:"submit",attrs:{disabled:t.disabledUpdate,type:"primary",icon:"add-o"},on:{click:t.statusReportUpdate}},[t._v("新增情况上报")])],1)])},i=[],n=(e("6762"),e("2fdb"),e("28a5"),e("ac6a"),e("bde3")),r=e("6bc4"),l=e("5880"),o={name:"reportdetail",data:function(){return{RecordID:"",disabledUpdate:!0,name:"",code:"",color:"",Septs:[],CurentSep:{},ReportUnusual:{},IntelUserCode:""}},computed:Object(l["mapState"])(["UserInfo"]),created:function(){var t=this;Object(n["c"])("上报详情"),this.IntelUserCode=this.$route.query.IntelUserCode||"",this.name=this.$route.query.name||"",this.code=this.$route.query.code||"",this.color=this.$route.query.color||"",console.log("this.color",this.color),console.log("his.$route.query",this.$route.query),Object(r["g"])(this.IntelUserCode).then(function(s){var e=s.data;if(!e.FeedbackCode){var a=e.Data;t.ReportUnusual=a.ReportUnusual||{}}}),this.getFlowList(this.IntelUserCode)},methods:{imageLoadOnError:function(){this.UserInfo.Icon=e("3810")},getFlowList:function(t){var s=this;Object(r["h"])(t).then(function(t){var e=t.data;if(!e.FeedbackCode){var a=e.Data;s.Septs=a||[],console.log("this.Steps",s.Septs),s.Septs.forEach(function(t){if(1==t.OpType){var s=t.SituationStatusName.split(",");s.includes("其他情况")?t.SituationStatusNameArrStr=s.splice(0,s.length-1).join():t.SituationStatusNameArrStr=s.join()}}),s.Septs[0].TeachIntelUserCode&&(s.disabledUpdate=!1)}})},statusReportUpdate:function(){console.log("statusReportUpdate"),this.$router.push({path:"report"})}}},c=o,u=(e("52b5"),e("2877")),d=Object(u["a"])(c,a,i,!1,null,"3f5f911a",null);s["default"]=d.exports},5147:function(t,s,e){var a=e("2b4c")("match");t.exports=function(t){var s=/./;try{"/./"[t](s)}catch(e){try{return s[a]=!1,!"/./"[t](s)}catch(i){}}return!0}},"52b5":function(t,s,e){"use strict";var a=e("04cd"),i=e.n(a);i.a},6762:function(t,s,e){"use strict";var a=e("5ca1"),i=e("c366")(!0);a(a.P,"Array",{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),e("9c6c")("includes")},d2c8:function(t,s,e){var a=e("aae3"),i=e("be13");t.exports=function(t,s,e){if(a(s))throw TypeError("String#"+e+" doesn't accept regex!");return String(i(t))}},ebd6:function(t,s,e){var a=e("cb7c"),i=e("d8e8"),n=e("2b4c")("species");t.exports=function(t,s){var e,r=a(t).constructor;return void 0===r||void 0==(e=a(r)[n])?s:i(e)}}}]);