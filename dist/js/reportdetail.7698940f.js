(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["reportdetail"],{"13df":function(s,t,a){"use strict";var e=a("ba0e"),l=a.n(e);l.a},3810:function(s,t,a){s.exports=a.p+"img/user.4fb29c05.jpg"},"42a1":function(s,t,a){"use strict";a.r(t);var e=function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",{staticClass:"reportdetail"},[a("div",{staticClass:"h-bg"}),a("div",{staticClass:"box",staticStyle:{"margin-top":"-80px"}},[a("div",{staticClass:"header"},[a("img",{staticClass:"icon",attrs:{src:s.UserInfo.Icon,alt:""},on:{error:s.imageLoadOnError}}),a("span",{staticClass:"name"},[s._v(s._s(s.UserInfo.Name))]),a("span",{staticClass:"sex"},[s._v(s._s(s.UserInfo.SexName))]),a("span",{staticClass:"status f-r"},[s._v(s._s(s.CurentSep.ConfirmStatusName||"待确定"))])]),a("div",[a("span",{staticClass:"label"},[s._v("学号")]),a("span",{staticClass:"lable value"},[s._v(s._s(s.UserInfo.UserCode))])]),a("div",[a("span",{staticClass:"label"},[s._v("学院")]),a("span",{staticClass:"lable value van-ellipsis"},[s._v(s._s(s.UserInfo.StudentAcademy))])]),a("div",[a("span",{staticClass:"label"},[s._v("班级")]),a("span",{staticClass:"lable value van-ellipsis"},[s._v(s._s(s.UserInfo.ClassName))])])]),a("div",{staticClass:"box"},[a("div",[a("span",{staticClass:"label"},[s._v("当前所在地")]),a("span",{staticClass:"lable value"},[s._v(s._s(s.ReportUnusual.CurrentAddress))])]),a("div",[a("span",{staticClass:"label"},[s._v("监护人")]),a("span",{staticClass:"lable value van-ellipsis"},[s._v(s._s(s.ReportUnusual.GuardianName))]),s._v("\n       "),a("span",{staticClass:"lable value van-ellipsis"},[s._v(s._s(s.ReportUnusual.GuardianPhone))])])]),a("van-panel",{staticStyle:{margin:"auto 20px"},attrs:{title:"上报跟踪"}},[a("van-steps",{attrs:{direction:"vertical"}},s._l(s.Septs,function(t,e){return a("van-step",{key:e},[2==t.OpType?a("div",[t.mark?a("div",[s._v(s._s(t.FollowStatusName))]):a("div",[a("p",[s._v(s._s(t.ReportTime))]),a("div",{staticClass:"step-label"},[s._v("\n              "+s._s(t.TeachName)+"老师已确定，标记\n              "),a("span",{staticClass:"status"},[s._v(s._s(t.FollowStatusName))])])])]):s._e(),1==t.OpType?a("div",[a("p",{staticClass:"time"},[s._v(s._s(t.OpTime))]),a("div",{staticClass:"step-label"},[s._v("上报疫情")]),t.ReportContent?a("div",{staticClass:"desc"},[s._v(s._s(t.ReportContent))]):s._e(),t.ReportContent?s._e():a("div",{staticClass:"desc"},[s._v(s._s(t.FollowStatusName))])]):s._e()])}),1)],1),a("van-button",{staticClass:"submit",attrs:{disabled:s.disabledUpdate,type:"primary"},on:{click:s.statusReportUpdate}},[s._v("更新状态")])],1)},l=[],i=a("bde3"),n=a("6bc4"),o=a("5880"),r={name:"reportdetail",data:function(){return{RecordID:"",disabledUpdate:!0,Septs:[],CurentSep:{},ReportUnusual:{}}},computed:Object(o["mapState"])(["UserInfo"]),created:function(){Object(i["c"])("疫情详情"),this.getFlowList()},methods:{imageLoadOnError:function(){this.UserInfo.Icon=a("3810")},getFlowList:function(){var s=this;Object(n["f"])().then(function(t){var a=t.data;if(!a.FeedbackCode){var e=a.Data;s.ReportUnusual=e.ReportUnusual,s.Septs=e.RUFollow||[],console.log("this.Steps",s.Septs),s.Septs[0].TeachIntelUserCode?s.disabledUpdate=!1:s.Septs.unshift({mark:!0,OpType:2,FollowStatusName:"待确定"})}})},statusReportUpdate:function(){console.log("statusReportUpdate"),this.$router.push({path:"report"})}}},p=r,c=(a("13df"),a("2877")),d=Object(c["a"])(p,e,l,!1,null,"04fcc662",null);t["default"]=d.exports},ba0e:function(s,t,a){}}]);