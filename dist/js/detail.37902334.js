(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["detail"],{"17c5":function(t,e,s){},"28a5":function(t,e,s){"use strict";var a=s("aae3"),i=s("cb7c"),r=s("ebd6"),n=s("0390"),l=s("9def"),o=s("5f1b"),c=s("520a"),u=s("79e5"),p=Math.min,d=[].push,v="split",m="length",f="lastIndex",C=4294967295,_=!u(function(){RegExp(C,"y")});s("214f")("split",2,function(t,e,s,u){var h;return h="c"=="abbc"[v](/(b)*/)[1]||4!="test"[v](/(?:)/,-1)[m]||2!="ab"[v](/(?:ab)*/)[m]||4!="."[v](/(.?)(.?)/)[m]||"."[v](/()()/)[m]>1||""[v](/.?/)[m]?function(t,e){var i=String(this);if(void 0===t&&0===e)return[];if(!a(t))return s.call(i,t,e);var r,n,l,o=[],u=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),p=0,v=void 0===e?C:e>>>0,_=new RegExp(t.source,u+"g");while(r=c.call(_,i)){if(n=_[f],n>p&&(o.push(i.slice(p,r.index)),r[m]>1&&r.index<i[m]&&d.apply(o,r.slice(1)),l=r[0][m],p=n,o[m]>=v))break;_[f]===r.index&&_[f]++}return p===i[m]?!l&&_.test("")||o.push(""):o.push(i.slice(p)),o[m]>v?o.slice(0,v):o}:"0"[v](void 0,0)[m]?function(t,e){return void 0===t&&0===e?[]:s.call(this,t,e)}:s,[function(s,a){var i=t(this),r=void 0==s?void 0:s[e];return void 0!==r?r.call(s,i,a):h.call(String(i),s,a)},function(t,e){var a=u(h,t,this,e,h!==s);if(a.done)return a.value;var c=i(t),d=String(this),v=r(c,RegExp),m=c.unicode,f=(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.unicode?"u":"")+(_?"y":"g"),b=new v(_?c:"^(?:"+c.source+")",f),g=void 0===e?C:e>>>0;if(0===g)return[];if(0===d.length)return null===o(b,d)?[d]:[];var S=0,U=0,y=[];while(U<d.length){b.lastIndex=_?U:0;var T,x=o(b,_?d:d.slice(U));if(null===x||(T=p(l(b.lastIndex+(_?0:U)),d.length))===S)U=n(d,U,m);else{if(y.push(d.slice(S,U)),y.length===g)return y;for(var I=1;I<=x.length-1;I++)if(y.push(x[I]),y.length===g)return y;U=S=T}}return y.push(d.slice(S)),y}]})},"2fdb":function(t,e,s){"use strict";var a=s("5ca1"),i=s("d2c8"),r="includes";a(a.P+a.F*s("5147")(r),"String",{includes:function(t){return!!~i(this,t,r).indexOf(t,arguments.length>1?arguments[1]:void 0)}})},3810:function(t,e,s){t.exports=s.p+"img/user.4fb29c05.jpg"},"42a1":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"detail"},[s("div",{staticClass:"h-bg",style:{background:t.ReportUnusual.Color}}),s("div",{staticClass:"box",staticStyle:{"margin-top":"-80px"}},[s("div",{staticClass:"header"},[s("img",{staticClass:"icon",attrs:{src:t.UserInfo.Icon,alt:""},on:{error:t.imageLoadOnError}}),s("span",{staticClass:"name"},[t._v(t._s(t.UserInfo.Name))]),s("span",{staticClass:"sex"},[t._v(t._s(t.UserInfo.SexName))]),s("span",{staticClass:"status f-r",style:{color:t.ReportUnusual.Color}},[t._v(t._s(t.ReportUnusual.ConfirmStatusName||"未核实"))])]),s("div",[s("span",{staticClass:"label"},[t._v("学号")]),s("span",{staticClass:"lable value"},[t._v(t._s(t.UserInfo.UserCode))])]),s("div",[s("span",{staticClass:"label"},[t._v("学院")]),s("span",{staticClass:"lable value van-ellipsis"},[t._v(t._s(t.UserInfo.StudentAcademy))])]),s("div",[s("span",{staticClass:"label"},[t._v("班级")]),s("span",{staticClass:"lable value van-ellipsis"},[t._v(t._s(t.UserInfo.ClassName))])])]),s("div",{staticClass:"box"},[s("div",[s("span",{staticClass:"label"},[t._v("当前所在地")]),s("span",{staticClass:"lable value"},[t._v(t._s(t.ReportUnusual.CurrentAddress))])]),s("div",[s("span",{staticClass:"label"},[t._v("监护人")]),s("span",{staticClass:"lable value van-ellipsis"},[t._v(t._s(t.ReportUnusual.GuardianName))]),t._v("\n       \n      "),s("span",{staticClass:"lable value van-ellipsis"},[t._v(t._s(t.ReportUnusual.GuardianPhone))])])]),s("div",{staticClass:"box",staticStyle:{padding:"0"}},[s("div",{staticClass:"record"},[t._v("上报记录")]),s("div",{staticClass:"van-hairline--bottom"}),s("van-steps",{staticStyle:{"margin-bottom":"100px"},attrs:{direction:"vertical","active-color":"#969799"}},t._l(t.Septs,function(e,a){return s("van-step",{key:a},[1==e.OpType?s("div",[s("p",{staticClass:"time"},[t._v(t._s(t.$moment(e.OpTime).format("MM月DD日 HH:mm")))]),s("div",{staticClass:"step-label"},[t._v("学生情况上报")]),e.Temperature?s("div",{staticClass:"desc"},[t._v("当天实测体温:\n            "),s("span",{style:{color:"0"==e.Temperature?"#409eff":"1"==e.Temperature?"#67c23a":"2"==e.Temperature?"#67c23a":"3"==e.Temperature?"#f56c6c":"4"==e.Temperature?"#f10303":"5"==e.Temperature?"#f10303":""}},[t._v("\n              "+t._s("0"==e.Temperature?"暂无数据":"1"==e.Temperature?"小于37°C":"2"==e.Temperature?"37°C ～ 37.3°C":"3"==e.Temperature?"37.3°C ~ 38°C":"4"==e.Temperature?"38°C ~ 39°C":"5"==e.Temperature?"高于39°C":"")+"\n            ")])]):t._e(),s("div",{staticClass:"desc"},[t._v("发生日期: "+t._s(t.$moment(e.SituationDate).format("MM月DD日")))]),s("div",{staticClass:"desc"},[t._v("情况说明: "+t._s(e.SituationStatusNameArrStr))]),e.SituationStatusName.split(",").includes("其他情况")?s("div",{staticClass:"desc"},[t._v("其他情况:"+t._s(e.FollowContent))]):t._e(),s("div",{staticClass:"desc"},[t._v("采取措施: "+t._s(e.SituationMeasureName))])]):t._e(),2==e.OpType?s("div",[s("div",[s("p",{staticClass:"time"},[t._v(t._s(t.$moment(e.OpTime).format("MM月DD日 HH:mm")))]),s("div",{staticClass:"step-label"},[s("span",{style:{color:e.Color}},[t._v(t._s(e.FollowStatusName))]),t.code?s("span",[t._v("辅导员新增上报")]):t._e(),t.code?t._e():s("span",[t._v(" 辅导员已核实")])])])]):t._e(),4==e.OpType?s("div",[s("p",{staticClass:"time"},[t._v(t._s(t.$moment(e.OpTime).format("MM月DD日 HH:mm")))]),1==e.IsFollowed?s("div",{staticClass:"step-label"},[t._v("老师代上报平安")]):s("div",{staticClass:"step-label"},[t._v("学生上报平安")])]):t._e(),5==e.OpType?s("div",[s("p",{staticClass:"time"},[t._v(t._s(t.$moment(e.OpTime).format("MM月DD日")))]),s("div",{staticClass:"step-label"},[t._v("学生未上报")])]):t._e(),6==e.OpType?s("div",[s("p",{staticClass:"time"},[t._v(t._s(t.$moment(e.OpTime).format("MM月DD日")))]),s("div",{staticClass:"step-label"},[t._v("辅导员未跟踪")])]):t._e()])}),1)],1),s("div",{staticClass:"footer"},[s("van-button",{staticClass:"submit",attrs:{disabled:t.disabledUpdate,type:"primary",icon:"add-o"},on:{click:t.statusReportUpdate}},[t._v("新增情况上报")])],1)])},i=[],r=(s("6762"),s("2fdb"),s("28a5"),s("ac6a"),s("bde3")),n=s("6bc4"),l=s("5880"),o={name:"reportdetail",data:function(){return{RecordID:"",disabledUpdate:!0,name:"",code:"",color:"",Septs:[],CurentSep:{},ReportUnusual:{},IntelUserCode:""}},computed:Object(l["mapState"])(["UserInfo"]),created:function(){var t=this;Object(r["c"])("上报详情"),this.IntelUserCode=this.$route.query.IntelUserCode||"",this.name=this.$route.query.name||"",this.code=this.$route.query.code||"",this.color=this.$route.query.color||"",console.log("this.color",this.color),console.log("his.$route.query",this.$route.query),Object(n["g"])(this.IntelUserCode).then(function(e){var s=e.data;if(!s.FeedbackCode){var a=s.Data;t.ReportUnusual=a.ReportUnusual||{},t.ReportUnusual||(t.disabledUpdate=!1),t.ReportUnusual&&t.ReportUnusual.ConfirmStatus&&(t.disabledUpdate=!1)}}),this.getFlowList(this.IntelUserCode)},methods:{imageLoadOnError:function(){this.UserInfo.Icon=s("3810")},getFlowList:function(t){var e=this;Object(n["h"])(t).then(function(t){var s=t.data;if(!s.FeedbackCode){var a=s.Data;e.Septs=a||[],console.log("this.Steps",e.Septs),e.Septs.forEach(function(t){if(1==t.OpType){var e=t.SituationStatusName.split(",");e.includes("其他情况")?t.SituationStatusNameArrStr=e.splice(0,e.length-1).join():t.SituationStatusNameArrStr=e.join()}})}})},statusReportUpdate:function(){console.log("statusReportUpdate"),this.$router.push({path:"report"})}}},c=o,u=(s("4bae"),s("2877")),p=Object(u["a"])(c,a,i,!1,null,"2a28a9a8",null);e["default"]=p.exports},"4bae":function(t,e,s){"use strict";var a=s("17c5"),i=s.n(a);i.a},5147:function(t,e,s){var a=s("2b4c")("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(s){try{return e[a]=!1,!"/./"[t](e)}catch(i){}}return!0}},6762:function(t,e,s){"use strict";var a=s("5ca1"),i=s("c366")(!0);a(a.P,"Array",{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),s("9c6c")("includes")},d2c8:function(t,e,s){var a=s("aae3"),i=s("be13");t.exports=function(t,e,s){if(a(e))throw TypeError("String#"+s+" doesn't accept regex!");return String(i(t))}},ebd6:function(t,e,s){var a=s("cb7c"),i=s("d8e8"),r=s("2b4c")("species");t.exports=function(t,e){var s,n=a(t).constructor;return void 0===n||void 0==(s=a(n)[r])?e:i(s)}}}]);